TCP/IP

  TCP/IP 는 하나의 프로토콜이 아닌 TCP 프로토콜과 IP 프로토콜을 합쳐서 부르는 말이다.
  패킷 통신 방식의 인터넷 프로토콜인 IP와 전송 조절 프로토콜인 TCP로 이루어져 있다.
  IP는 패킷 전달 여부는 보증하지 않고 논리적인 주소만을 제공하며, 패킷을 보낸 순서와 받는 순서가 보장되지 않는다.
  TCP는 IP 위에서 동작하는 프로토콜로 데이터의 전달을 보장하고 데이터를 보낸 순서와 받는 순서를 보장해준다.
  HTTP, FTP, SMTP 등의 프로토콜은 TCP를 기반으로 하고 있으며 이 프로토콜들은 IP 위에서 동작하기 때문에 묶어서 TCP/IP 로 부른다.
  또한 TCP/IP를 사용한다는 것은 IP 주소 체계를 따르면서 TCP의 특성을 활용해 송신자와 수신자의 논리적 연결을 생성하고 신뢰성을 유지할 수 있도록 하겠다는 의미이다.
  즉 TCP/IP 를 말한다는 것은 송신자가 수신자에게 IP 주소를 사용해 데이터를 전달하고 그 데이터가 제대로 갔는지, 
  너무 빠르지는 않는지, 제대로 받았다고 연락은 오는지에 대한 이야기를 하고 있는 것이다.
  인터넷에서 무언가를 다운로드할 때 중간에 끊기거나 빠지는 부분 없이 완벽하게 받을 수 있는 이유도 TCP의 이러한 특성 때문이다.
  
  TCP (Transmission Control Protocol)
      TCP 프로토콜은 OSI 7 Layer 에서 4계층인 전송 계층에 위치한다. 4계층의 다른 프로토콜로 UDP가 있다.
      TCP는 네트워크 정보 전달을 통제하는 프로토콜이자 인터넷을 이루는 핵심 프로토콜 중 하나이다.
      근거리 통신망이나 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램간에 데이터 전송을 안정적으로, 순서대로, 에러 없이 교환할 수 있게 해준다.
      웹 브라우저들이 www를 통해 서버에 연결할 때 사용되며, 이메일 전송이나 파일 전송에도 사용됨
      IP가 패킷들의 관계를 이해하지 못하고 그저 목적지를 제대로 찾아가는 것에 중점을 둔다면 
      TCP는 통신하고자 하는 양쪽 단말이 통신할 준비가 되었는지, 데이터가 제대로 전송되었는지, 데이터가 가는 도중 변질되지는 않았는지, 수신자가 얼마나 받았고 빠진 부분은 없는지 등을 점검한다.
      이런 정보들은 TCP Header에 담겨 있으며 Source Port, Destination Port, Sequence Number, Window size, Checksum과 같은 신뢰성 보장과 흐름 제어, 혼잡 제어에 관여할 수 있는 요소들도 포함되어 있다.
      3-way handshake
          TCP를 사용하는 송신자와 수신자는 데이터를 전송하기 전 먼저 서로 통신이 가능한지 의사를 묻고 한 번에 얼마나 받을 수 있는지 등의 정보를 확인한다.
          이는 데이터를 안전하고 빠지는 부분 없이 보내기 위한 신뢰성 있는 통신을 하기 위해서이다.
          TCP는 TCP Header 내의 SYN, SYN/ACK, ACK Flag 를 사용해 통신을 시도
              1. 송신자가 수신자에게 SYN를 보내 통신이 가능한지 확인 -> Port는 열려 있어야 함
              2. 수신자가 송신자로부터 SYN를 맏고 SYN/ACK 를 송신자에게 보내 통신 준비가 되었다고 함
              3. 송신자가 수신자의 SYN/ACK 를 받고 ACK를 날려 전송을 시작함을 알림
          데이터를 받았을 때 ACK를 송신자에게 보내 데이터가 온전히 도착했음을 알림
          송신자는 ACK를 받으면 수신자에게 데이터가 잘 보내졌음을 확인하고 다음 데이터를 전달할 준비를 한다.
      특징 : 
          연결 제어 : 위에 3 way handshaking 이 연결제어임
          흐름 제어 : 송신자는 자신이 한 번에 얼마를 보낼 수 있는지, 수신자는 자신이 데이터를 어디까지 받았는지 계속 확인하고                  
                      송신량이 아무리 많아봤자 수신자의 처리량이 딸리면 무용지물이기 때문에 송신자는 수신자의 처리량에 맞춰서 보내는게 나음
                      수신자는 송신자에게 처리를 잘하고있는지 없는지에 대한 피드백을 줘야함. 이때 stop and wait 방식과 sliding window를 씀
                      전자는 1개씩 패킷을 전송하고 피드백 기다리고, 전송하고 피드백 기다리고 하는 방식이라 효율성이 너무 떨어져서 잘 안씀
                      TCP Header 내의 Window size 를 이용해 한번에 받고, 보낼 수 있는 데이터의 양을 정한다.
                      
          혼잡 제어 : 데이터가 지나가는 네트워크망의 혼잡을 제어하는 것
                     송신자는 연결 초기에 데이터 송출량을 낮게 잡고 보내면서 수신자의 수신을 확인해가며 데이터 송출량을 조금씩 늘린다.
                     그러다보면 현재 네트워크에서 가장 적합한 데이터 송출량을 확인할 수 있게 된다.
                     이것이 Slow Start 이다.
  
  IP
      IP 프로토콜은 OSI 7 Layer 중 3 계층인 네트워크 계층에 해당
      IP는 TCP와는 달리 데이터의 재조합이나 손실여부 확인이 불가능하며, 단지 데이터를 전달하는 역할만을 담당
      컴퓨터와 컴퓨터 간에 데이터를 전송하기 위해서는 각 컴퓨터의 주소가 필요
      IP 주소는 하드웨어 고유의 식별 번호인 MAC 주소와 다르게 임시적으로 다른 주체(대부분 통신사)에게 받는 주소이므로 바뀔 수 있다.
 
 
 
 
